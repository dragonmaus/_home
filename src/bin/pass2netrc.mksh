#!/bin/mksh

\pass "$@" | {
	\\builtin read -r pass
	while IFS=: \\builtin read -r key value
	do
		case $key in
		(uri)
			host=${value#*://}
			host=${host%%/*}
			;;
		(user)
			user=$value
			;;
		esac
	done
	[[ -n $host ]] && \\builtin set -A foo -- "${foo[@]}" machine "$host"
	[[ -n $user ]] && \\builtin set -A foo -- "${foo[@]}" login "$user"
	[[ -n $pass ]] && \\builtin set -A foo -- "${foo[@]}" password "$pass"
	\\builtin print -r -- "${foo[@]}"
}
